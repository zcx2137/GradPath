{% extends 'admins/base.html' %}

{% load static %}

{% block extra_css %}
    <link href="{% static 'CSS/admins/dashboard.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <h2>学生账号列表</h2>
    <table class="user-table">
        <tr>
            <th>ID</th>
            <th>学号</th>
            <th>姓名</th>
            <th>用户名</th>
            <th>学院</th>
            <th>操作</th>
        </tr>
        {% for student in students %}
        <tr>
            <td>{{ student.id }}</td>
            <td>{{ student.student_id }}</td>
            <td>{{ student.full_name }}</td>
            <td>{{ student.user.username }}</td>
            <td>{{ student.college }}</td>
            <td>
                <a href="{% url 'edit_user' student.user.id %}" class="btn btn-edit">编辑</a>
                <a href="{% url 'reset_password' student.user.id %}" class="btn btn-reset" 
                   onclick="return confirm('确定要重置密码密码吗？')">重置密码</a>
                <a href="{% url 'delete_user' student.user.id %}" class="btn btn-delete" 
                   onclick="return confirm('确定要删除吗？')">删除</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6">暂无学生数据</td></tr>
        {% endfor %}
    </table>

    <h2>辅导员账号列表</h2>
    <table class="user-table">
        <tr>
            <th>ID</th>
            <th>工号</th>
            <th>姓名</th>
            <th>用户名</th>
            <th>学院</th>
            <th>操作</th>
        </tr>
        {% for counselor in counselors %}
        <tr>
            <td>{{ counselor.id }}</td>
            <td>{{ counselor.employee_id }}</td>
            <td>{{ counselor.full_name }}</td>
            <td>{{ counselor.user.username }}</td>
            <td>{{ counselor.college }}</td>
            <td>
                <a href="{% url 'edit_user' counselor.user.id %}" class="btn btn-edit">编辑</a>
                <a href="{% url 'reset_password' counselor.user.id %}" class="btn btn-reset" 
                   onclick="return confirm('确定要重置密码吗？')">重置密码</a>
                <a href="{% url 'delete_user' counselor.user.id %}" class="btn btn-delete"
                   onclick="return confirm('确定要删除吗？')">删除</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6">暂无辅导员数据</td></tr>
        {% endfor %}
    </table>
{% endblock %}