{% extends 'students/base.html' %}
{% load static %}

{% block title %}个人信息{% endblock %}

{% block extra_css %}
    <link href="{% static 'CSS/profile.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="content">
        <form method="POST">
            {% csrf_token %}
            
            <!-- 基本信息板块 -->
            <div class="profile-module">
                <h3 class="module-title">基本信息</h3>
                <div class="form-row">
                    <div class="form-group">
                        {{ form.full_name.label_tag }} {{ form.full_name }}
                    </div>
                    <div class="form-group">
                        {{ form.student_id.label_tag }} 
                        <input type="text" 
                               name="{{ form.student_id.html_name }}" 
                               id="{{ form.student_id.id_for_label }}" 
                               value="{{ form.student_id.value|default:'' }}"
                               readonly>
                    </div>
                    <div class="form-group">
                        {{ form.enrollment_year.label_tag }} {{ form.enrollment_year }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        {{ form.college.label_tag }} {{ form.college }}
                    </div>
                    <div class="form-group">
                        {{ form.department.label_tag }} {{ form.department }}
                    </div>
                    <div class="form-group">
                        {{ form.major.label_tag }} {{ form.major }}
                    </div>
                </div>
            </div>
            
            <!-- 分割线 -->
            <div class="divider"></div>
            
            <!-- 个人信息板块 -->
            <div class="profile-module">
                <h3 class="module-title">个人信息</h3>
                <div class="form-row">
                    <div class="form-group">
                        {{ form.gender.label_tag }} {{ form.gender }}
                    </div>
                    <div class="form-group">
                        {{ form.ethnicity.label_tag }} {{ form.ethnicity }}
                    </div>
                    <div class="form-group">
                        {{ form.political_status.label_tag }} {{ form.political_status }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        {{ form.id_card.label_tag }}
                        <input type="{{ form.id_card.field.widget.input_type }}" 
                               name="{{ form.id_card.html_name }}" 
                               id="{{ form.id_card.id_for_label }}" 
                               value="{{ form.id_card.value|default:'' }}"
                               class="id-card-input">
                    </div>
                </div>
            </div>
            
            <!-- 分割线 -->
            <div class="divider"></div>
            
            <!-- 联系方式板块 -->
            <div class="profile-module">
                <h3 class="module-title">联系方式</h3>
                <div class="form-row">
                    <div class="form-group">
                        {{ form.phone.label_tag }} {{ form.phone }}
                    </div>
                    <div class="form-group">
                        {{ form.email.label_tag }} {{ form.email }}
                    </div>
                </div>
            </div>
            <hr>
            <button type="submit" class="submit-btn">保存</button>
            
            {# 学业成绩等信息临时存放在个人信息页 #}
            <div class="divider"></div>
            <div class="profile-module">
                <h3 class="module-title">成绩信息</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>学业综合成绩：</label>
                        <input type="text" value="{{ profile.academic_comprehensive_score|default:'未设置' }}" readonly>
                    </div>
                    <div class="form-group">
                        <label>学术专长成绩：</label>
                        <input type="text" value="{{ profile.academic_expertise_score }}" readonly>
                    </div>
                    <div class="form-group">
                        <label>综合表现成绩：</label>
                        <input type="text" value="{{ profile.comprehensive_performance_score }}" readonly>
                    </div>
                    <div class="form-group">
                        <label>总成绩：</label>
                        <input type="text" value="{{ profile.total_score|default:'-' }}" readonly>
                    </div>
                </div>
            </div>
            {# 学业成绩等信息临时存放在个人信息页 #}
            
        </form>
    </div>
{% endblock %}